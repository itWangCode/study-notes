# 分治法

<https://juejin.im/post/6844904190578278414>

<https://zhuanlan.zhihu.com/p/72734354>

<https://blog.csdn.net/qq_39382769/article/details/80788293>

## 分治法所能解决的问题一般具有以下几个特征

1. 该问题的规模缩小到一定的程度就可以**容易**地解决
2. 该问题可以分解为若干个规模**较小的相同问题**，即该问题具有最优子结构性质。
3. 利用该问题分解出的子问题的解**可以合并**为该问题的解；
4. 该问题所分解出的各个子问题是**相互独立**的，即子问题之间不包含公共的子子问题。

对于存在公共子问题的问题，使用分治算法会存在重复计算的问题，使用动态规划较为合适。

## 分治法的基本步骤

分解：将原问题分解为若干个规模较小，相互独立，与原问题形式相同的子问题

求解：若子问题规模较小而容易被解决则直接解，否则递归地解各个子问题。

合并：将各个子问题的解合并为原问题的解

## 伪代码

```
Divide-and-Conquer(P)
    if |P| ≤ n0
        then return(ADHOC(P))
    将P分解为较小的子问题 P1 ,P2 ,...,Pk
        for i←1 to k
            do yi ← Divide-and-Conquer(Pi) △ 递归解决Pi
        T ← MERGE(y1,y2,...,yk) △ 合并子问题
    return(T)
```

## 实例

可以使用分治法求解的一些经典问题：

大整数乘法
Strassen矩阵乘法
棋盘覆盖
合并排序
快速排序
线性时间选择
最接近点对问题
循环赛日程表
汉诺塔

### 二分搜索

见[查找算法](./search.md)

### 归并排序

比较经典的应用就是归并排序 (Merge Sort) 以及快速排序 (Quick Sort) 等。我们来从归并排序理解分治思想，归并排序就是将待排序数组不断二分为规模更小的子问题处理，再将处理好的子问题合并起来。

### 问题：有100枚硬币，其中1枚重量与众不同，是假币，略轻一些。如果用天平秤，请问至少称几次一定能找到这枚假币

假如我们用传统的逐枚比较法的话，显然至少需要比较50次。

而假如我们采用分治法的话，称量流程如下：

1.将100硬币分成3份，33,33,34。

2.称量1、2份，若天平平衡，则假币必在另外34枚中。若不平衡，假币在轻的那33枚里。

3.将34枚分为11/11/12枚（或将33枚分成11*3）。

4.称量两组11枚的硬币，若平衡，假币在12枚里（或另外的11枚）若不平衡，假币在轻的11里。

5.将11（或12）枚分成3/4/4（或4/4/4），称量4/4，方法同上。

6.将剩下的3（或4）分为1/1/1（或1/1），称量1/1，若平衡，则剩下的一枚是假币，若不平衡，轻的是假币。 若还剩4枚，出现1/1平衡，剩下2枚则称量，显然轻的是假币。

这种方法只需要5次就能解决这个问题。

## 分治算法与动态规划

当子问题相互独立时，能且只能使用分治。存在重叠子问题时，动态规划是更好的算法。 In a word, 分治法 —— 各子问题独立；动态规划 —— 各子问题重叠。
