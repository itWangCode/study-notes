# 微前端

[2023微前端技术方案选型](https://juejin.cn/post/7236021829000691771)

[微前端到底是什么？](https://zhuanlan.zhihu.com/p/96464401)

[前端微服务在字节跳动的打磨与应用](https://juejin.cn/post/6844904046487142408)

[深入调研了微前端，还是iframe最香](https://juejin.cn/post/7244070072788287544)

<https://juejin.im/post/5d7f702ce51d4561f777e258>

<https://router.vuejs.org/zh/guide/advanced/lazy-loading.html#%E6%8A%8A%E7%BB%84%E4%BB%B6%E6%8C%89%E7%BB%84%E5%88%86%E5%9D%97>

<https://router.vuejs.org/zh/guide/essentials/nested-routes.html>

[微前端-从概念到开发](https://juejin.cn/book/6897057247579504653/section/6897053872334831620)

## 概念

简单来讲，微前端的理念类似于微服务：

关键字：拆解

理论上 ，微前端的概念是 ，完全独立的项目，他们之间不存在依赖关系。

将庞大的整体拆成可控的小块，并明确它们之间的依赖关系。关键优势在于：

代码库更小，更内聚、可维护性更高
松耦合、自治的团队可扩展性更好
渐进地升级、更新甚至重写部分前端功能成为了可能

## 框架

- qiankun  阿里

- microapp 京东

- 无界 腾讯

等等

## 多 Bundle 集成

微前端架构中一般会有个容器应用（container application）将各子应用集成起来，职责如下：

渲染公共的页面元素，比如 header、footer
解决横切关注点（cross-cutting concerns），如身份验证和导航
将各个微前端整合到一个页面上，并控制微前端的渲染区域和时机

```
集成方式分为 3 类：
服务端集成：如 SSR 拼装模板
构建时集成：如 Code Splitting
运行时集成：如通过 iframe、JS、Web Components 等方式
```

## 前端架构需要解决的问题

标准产品项目+定制化开发的场景 ，这两种拆解开。

拆开HTML打包，公用的资源包如果引用相同包，那公用内容变更，其实子应用，公用包都要重新打包。如果分开打包，虽然可以实现代码共用，但无法实现资源共用。如果完全独立的话，资源肯定是完全不共用的，因为发版是独立的，互不影响的。

- 拆开就要解决通信问题，弹窗全局等问题。

- 如何引入本地的库

- 如何整合托管在中心化服务中的库

- 如何开发通用服务，如异常跟踪，分析等

- 如何为团队设置CSS和URL前缀

## qiankun

<https://qiankun.umijs.org/zh/guide/>

是一个多个项目的集成框架。

quankun的消息并不是 应用A <-> 应用B，而是  应用A <-> 主应用 <-> 应用B

适合子应用之间通信耦合度低的，因为太高的耦合会在qiankun框架下会让通信变得复杂，难以维护，代码结构上不适合。

## webpack - Module Federation

模块联邦的解决方案

这和webpack多页面应用程序有什么区别？
