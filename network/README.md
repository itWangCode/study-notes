# 网络web知识

<https://juejin.im/post/598ba1d06fb9a03c4d6464ab>

本文档性能文档，也有对tcp/http的介绍 [性能文档](../performance.md#TCP)

## OSI体系层次

<https://juejin.cn/post/6844904049800642568>

```
应用层
表示层
会话层

传输层

网络层

数据链路层
物理层
```

## 数据链路层

数据链路层提供的服务是如何将数据报通过单一通信链路从一个结点移动到相邻节点。每一台主机都有一个唯一的 MAC 地址， 这是由网络适配器决定的，在全世界都是独一无二的。

## 物理层

物理层提供的服务是尽可能的屏蔽掉组成网络的物理设备和传输介质间的差异，使数据链路层不需要考虑网络的具体传输介质 是什么。

## DNS

DNS（Domain Name System）

DNS服务是和HTTP协议一样位于应用层的协议，它提供 域名到 -> IP地址 之间的解析服务。

它是一个由分层的 DNS 服务器组成的分 布式数据库，是定义了主机如何查询这个分布式数据库的方式的应用层协议

DNS 协议运行在 UDP 协议之上，使用 53 号 端口。

## URL URI

URL是URI的子集

## POST和GET

### 区别

注意：以下描述有问题，应该是url传参和data传参区别，并不是get和post

```
大小方面: GET传输一般2M，POST没有大小限制

安全方面: GET通过url明文传输，POST通过body传输，本身都不安全，因为HTTP就是明文传输。

浏览器记录: GET请求浏览器会记录，POST不会

浏览器后退: GET无害，POST会再次提交

浏览器收藏: GET可以收藏，POST不可以

浏览器缓存: GET可以缓存，POST不会

编码方式: GET通过url编码，POST支持多种编码

TCP数据包: GET产生一个数据包，POST产生2个数据包

使用方式(习惯上讲): GET主要拉取数据，POST主要提交保存数据
```

### url长度限制

实际上 HTTP 协议从未规定 GET/POST 的请求长度限制是多少。对 get 请求参数的限制是来源与浏览器或web 服务器，浏览器或 web 服务器限制了 url 的长度。为了明确这个概念，我们必须再次强调下面几点:

## 什么是正向代理和反向代理

我们常说的代理也就是指正向代理，正向代理的过程，它隐藏了真实的请求客户端，服务端不知道真实的客户端是谁，客户端请求的服务都被代理服务器代替来请求。

反向代理隐藏了真实的服务端，当我们请求一个网站的时候，背后可能有成千上万台服务器为我们服务，但具体是哪一台，我们不知道，也不需要知道，我们只需要知道反向代理服务器是谁就好了，反向代理服务器会帮我们把请求转发到真实的服务器那里去。反向代理器一般用来实现负载平衡。

## 负载平衡的两种实现方式

一种是使用反向代理的方式，用户的请求都发送到反向代理服务上，然后由反向代理服务器来转发请求到真实的服务器上，以此来实现集群的负载平衡。

另一种是 DNS 的方式，DNS 可以用于在冗余的服务器上实现负载平衡。因为现在一般的大型网站使用多台服务器提供服务，因此一个域名可能会对应多个服务器地址。当用户向网站域名请求的时候，DNS 服务器返回这个域名所对应的服务器 IP 地址的集合，但在每个回答中，会循环这些 IP 地址的顺序，用户一般会选择排在前面的地址发送请求。以此将用户的请求均衡的分配到各个不同的服务器上，这样来实现负载均衡。这种方式有一个缺点就是，由于 DNS 服务器中存在缓存，所以有可能一个服务器出现故障后，域名解析仍然返回的是那个 IP 地址，就会造成访问的问题。
